<!DOCTYPE html>
<html>
<head>
    <title>Company Data</title>
</head>
<body>
    <h1>Company Data</h1>
    <form action="/fetch_data" method="post">
        <label for="ticker">Enter Ticker Symbol:</label>
        <input type="text" name="ticker" id="ticker" required>
        <button type="submit">Fetch Data</button>
    </form>

    <div id="company_data">
        <!-- Company data will be displayed here -->
    </div>
</body>
</html>


<script>
    // Function to send a POST request to fetch company data
    function fetchCompanyData() {
        var ticker = document.getElementById('ticker').value;
        var formData = new FormData();
        formData.append('ticker', ticker);

        fetch('/fetch_data', {
            method: 'POST',
            body: formData,
        })
        .then(response => response.text())  // Parse the response as text
        .then(data => {
            var companyData = document.getElementById('company_data');
            companyData.innerHTML = '';  // Clear previous content

            // Append the response as HTML to the company_data div
            companyData.innerHTML = data;
        });
    }

    // Attach the form submission event
    document.querySelector('form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting traditionally
        fetchCompanyData();
    });
</script>


